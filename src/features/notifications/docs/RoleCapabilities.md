# 用户角色功能权限说明

## 📚 学生用户 (Student)

### 🔔 通知功能
- **接收通知**：可以接收来自教师和管理员的通知
- **查看通知**：查看所有接收到的通知
- **标记已读**：标记通知为已读状态
- **删除通知**：删除不需要的通知
- **通知分类**：按类型、优先级查看通知

### 📊 导出功能
- **学习报告**：包含学习进度、成绩、活动记录的综合报告
- **进度报告**：详细的课程和实验进度分析
- **成就报告**：获得的成就徽章和积分统计
- **成绩报告**：所有课程和实验的成绩汇总
- **活动日志**：学习活动的详细记录
- **学习证书**：完成课程的学习证书

### 🚫 限制
- **不能发送通知**：学生只能接收，不能发送通知
- **数据范围限制**：只能导出自己的学习数据

---

## 👨‍🏫 教师用户 (Teacher)

### 🔔 通知功能
- **接收通知**：接收来自管理员和系统的通知
- **发送通知**：向学生发送各种类型的通知
  - 📢 课程公告
  - 📝 作业通知
  - ⏰ 学习提醒
  - 📊 成绩通知
  - 📚 课程通知
  - 🧪 实验通知
  - ⚠️ 截止提醒
- **目标受众选择**：
  - 班级学生：发送给指定班级的所有学生
  - 课程学生：发送给指定课程的所有学生
- **高级功能**：
  - 定时发送：设置通知的发送时间
  - 过期时间：设置通知的有效期
  - 优先级设置：低、普通、重要、紧急

### 📊 导出功能
- **班级报告**：班级整体学习情况分析
- **学生分析**：学生个体和群体学习分析
- **课程统计**：课程完成率、难度分析等统计
- **成绩汇总**：班级成绩分布和统计分析
- **出勤报告**：学生出勤情况统计
- **作业分析**：作业提交和完成情况分析

### ✅ 权限范围
- **班级权限**：可以向自己授课的班级发送通知
- **课程权限**：可以向自己的课程学生发送通知
- **数据权限**：可以导出自己教授的班级和课程数据

---

## 👨‍💼 管理员用户 (Admin)

### 🔔 通知功能
- **接收通知**：接收系统通知和其他管理员通知
- **发送系统通知**：向全平台用户发送通知
  - 🔧 系统通知
  - 📢 平台公告
  - 🛠️ 维护通知
  - 🔒 安全提醒
  - ⏰ 重要提醒
  - 📊 成绩通知
  - 📚 课程通知
  - 📝 作业通知
  - 🧪 实验通知
  - 💬 讨论通知
  - ⚠️ 截止提醒
- **最高权限目标受众**：
  - 所有用户：发送给平台所有用户
  - 所有学生：发送给平台所有学生用户
  - 所有教师：发送给平台所有教师用户
  - 按角色发送：根据用户角色精确发送
- **通知模板**：
  - 系统维护通知模板
  - 新功能发布模板
  - 安全提醒模板
- **高级功能**：
  - 批量发送：一次性向大量用户发送
  - 模板变量：支持动态内容替换
  - 确认机制：发送前需要确认（影响范围大）

### 📊 导出功能
- **系统报告**：系统整体运行状况报告
- **用户统计**：用户注册、活跃度等统计
- **课程分析**：全平台课程数据分析
- **性能指标**：系统性能和使用情况指标
- **审计日志**：系统操作和安全审计记录
- **财务报告**：平台收入和成本分析

### 🔥 最高权限
- **全平台权限**：可以向所有用户发送通知
- **系统级通知**：可以发送系统维护、安全等重要通知
- **全数据权限**：可以导出所有系统数据和分析报告
- **模板管理**：可以创建和管理通知模板

---

## 🔐 安全机制

### 权限验证
- **角色验证**：每个功能都会验证用户角色权限
- **数据隔离**：用户只能访问自己权限范围内的数据
- **操作审计**：所有重要操作都会记录审计日志

### 防误操作
- **确认机制**：重要操作需要用户确认
- **权限提示**：清楚显示当前用户的权限范围
- **错误处理**：优雅处理权限不足等错误情况

### 数据保护
- **敏感信息过滤**：导出数据时过滤敏感信息
- **访问控制**：严格控制数据访问权限
- **传输加密**：数据传输过程中进行加密保护

---

## 🚀 使用指南

### 学生用户
1. 访问 `/student/notifications` 查看通知
2. 访问 `/student/export` 导出学习数据
3. 在个人中心可以快速访问这些功能

### 教师用户
1. 访问 `/teacher/notifications` 管理通知
2. 点击发送按钮创建新通知
3. 访问 `/teacher/export` 导出教学数据
4. 在教师Dashboard可以快速访问这些功能

### 管理员用户
1. 访问 `/admin/notifications` 管理系统通知
2. 使用通知模板快速创建通知
3. 访问 `/admin/export` 导出系统数据
4. 在管理员Dashboard可以快速访问这些功能

---

## 📈 功能扩展

### 未来计划
- **移动端推送**：支持手机推送通知
- **邮件通知**：重要通知同时发送邮件
- **通知统计**：通知发送和阅读统计
- **自动化通知**：基于事件自动发送通知
- **多语言支持**：支持多种语言的通知内容
